var bio = {
  "name": "Paulo Esteves",
  "role": "Front-End Web Developer",
  "contacts": {
    "linkedin": {"link": "https://www.linkedin.com/in/pauloesteves8", "name": "pauloesteves8" },
    "email": "pauloesteves8@gmail.com",
    "github": {"link": "https://github.com/PEsteves8", "name": "github.com/PEsteves8" },
    "portfolio": {"link": "https://PEsteves8.github.io", "name": "PEsteves8.github.io" },
    "medium" : {"link": "https://www.medium.com/@pauloesteves8", "name": "@pauloesteves8" },
    "location": "Lisbon, Portugal",
    "contact": "+351919595441"
  },
  "welcomeMessage": "",
  "skills": [
    "Javascript", "HTML", "CSS", "Python", "Video Production",
    "Adobe Premiere Pro", "Adobe After Effects"
  ],
  "pictureURL": "images/photopass.jpg"
};

var work = {
  "jobs": [
    {
    "employer": "Markdata",
    "title": "Web Developer",
    "location": "Lisbon, Portugal",
    "dates": "Jun 2016 - Current",
    "description": "I'm helping building web apps (backoffice software for market research data) using the popular Angular2 framework. I also work on the back-end, which is built using C# and .NET Core.",
    "tasks": ["Building the front-end part of multiple web apps", "Contributing to the development of their back-ends"],
    "url": "http://www.marktest.com/wap/"
  }, {
    "employer": "SurveyMonkey Inc.",
    "title": "Marketing Intern",
    "location": "Dublin, Ireland",
    "dates": "Feb 2015 - Aug 2015",
    "description": "During my stay at SurveyMonkey Inc. (part of the <a href='http://www.portugalglobal.pt/PT/InovContacto/Paginas/AboutInovContacto.aspx' class='icontacto' target='_blank'>Inov Contacto</a> internship program) I had a number of different tasks, such as:",
    "tasks": ["Interviewed B2B customers to help with the development of case studies for promotional purposes", "Developed animations featuring fictionalized sales processes to be presented internally among sales teams", "Translated various documents (PT to EN)", "Gathered contacts of key employees of potential customers for outbound initiatives using Linkedin and Datanyze", "Assisted the financial team"],
    "url": "https://www.surveymonkey.com"
  }, {
    "employer": "Smartling Inc.",
    "title": "Translator (English to Portuguese(PT))",
    "location": "Online",
    "dates": "2013-2016",
    "description": "Smartling is a fast and easy way for people to translate and localize their websites and apps.<br>For the past few years, I've been working as one of the English to Portuguese (PT) translators.",
    "url": "https://www.smartling.com/"
  }, {
    "employer": "Freelancer",
    "title": "Video Producer",
    "location": "Porto",
    "dates": "2011-2016",
    "description": "I occasionally work as a freelance video producer, doing both corporate videos and content for TV and web.",
    "url": "https://www.youtube.com/user/Stevesbros/videos?sort=p&view=0&flow=grid"
  }]
};

var projects = {
  "projects": [
    {
     "title": "Video Wall 3000",
     "dates": "April 2017",
     "images": [],
     "description": ["Built on Angular and Firebase", "Originally developed as a front-end for a Mongo/Express project"],
     "url": "http://pesteves8.github.io/video-wall"
   },
    {
     "title": "mrMDB - Aggregator for IMDb, Rotten Tomatoes, Metacritic and other info",
     "dates": "May 2016",
     "images": [],
     "description": ["A personal project that allows users to get info from IMDb, Metacritic and Rotten Tomatoes in one place", "Built with Angular 1.x, Ecmascript6 (2015/Harmony), JS Modules (import/export syntax) and Sass", "Built for personal usage and to practice the technologies mentioned above as well as some others like UI-Router (Angular), jshint, postcss (autoprefixer) and Webpack for bundling and as a gulp+bower replacement"],
     "url": "http://pesteves8.github.io/mrmdb"
   },
   {
    "title": "Calorie Tracker",
    "dates": "March 2016",
    "images": [],
    "description": ["A lightweight web app for tracking daily calorie intake built using Backbone.js", "The data is retrieved using Nutritionix's API", "The calendar allows users to monitor their daily calorie intake"],
    "url": "https://pesteves8.github.io/calorie-tracker"

  }, {
    "title": "Javascript Testing",
    "dates": "March 2016",
    "images": [],
    "description": ["A simple sequence of tests written using the Jasmine testing framework", "The tests are built for a website provided by Udacity", "This project had the purpose of introducing the concepts behind test driven development"],
    "url": "https://github.com/PEsteves8/frontend-nanodegree-feedreader-testing"
  }, {
    "title": "Neighborhood Map",
    "dates": "March 2016",
    "images": [],
    "description": ["A page that shows a selection of some of the best night bars/clubs in Porto", "Built using the Knockout.js framework, it makes use of Google Maps and Foursquare APIs", "Multiple AJAX requests are used to populate the map with the locations and their details", "The purpose of the project was mainly to practice using modern Javascript design patterns and organizational frameworks (MV*)"],
    "url": "https://pesteves8.github.io/frontend-nanodegree-neighborhood-map"
  }, {
    "title": "Website Optimization",
    "dates": "Feb 2016",
    "images": [],
    "description": ["Optimized the critical rendering path of a provided webpage to drastically increase loading times", "Refactored code to allow for a scroll animation of 60 frames per second"],
    "url": "https://github.com/PEsteves8/frontend-nanodegree-mobile-portfolio"
  }, {
    "title": "Arcade Game",
    "dates": "Feb 2016",
    "images": [],
    "description": ["A clone of the popular oldie Frogger build using HTML5 Canvas", "Character and environment designs were provided by Udacity"],
    "url": "https://pesteves8.github.io/frontend-nanodegree-arcade-game"
  }]
};

var education = {
  "schools": [{
    "name": "School of Accounting and Administration of Porto",
    "location": "Porto, Portugal",
    "degree": "Bachelor Degree",
    "majors": ["Marketing"],
    "dates": "2007-2010",
    "url": "http://iscap.ipp.pt/"
  }, {
    "name": "Faculty of Engineering of the University of Porto",
    "location": "Porto, Portugal",
    "degree": "1st year attendance",
    "majors": ["Electrical Engineering"],
    "dates": "2006-2007",
    "url": "https://sigarra.up.pt/feup/pt/web_page.inicial"
  }],
  "onlineCourses": [{
    "title": "Developing Scalable Apps in Python",
    "school": "Udacity",
    "dates": 2016,
    "url": "https://www.udacity.com/course/developing-scalable-apps-in-python--ud858"
  }, {
    "title": "Javascript Testing",
    "school": "Udacity",
    "dates": 2016,
    "url": "https://www.udacity.com/course/javascript-testing--ud549"
  }, {
    "title": "Javascript Design Patterns - Organizational Frameworks",
    "school": "Udacity",
    "dates": 2016,
    "url": "https://www.udacity.com/course/javascript-design-patterns--ud989"
  }, {
    "title": "Website Performance Optimization",
    "school": "Udacity",
    "dates": 2016,
    "url": "https://www.udacity.com/course/website-performance-optimization--ud884"
  }, {
    "title": "Object Oriented Javascript",
    "school": "Udacity",
    "dates": 2016,
    "url": "https://www.udacity.com/course/object-oriented-javascript--ud015"
  }, {
    "title": "Responsive Web Design Fundamentals",
    "school": "Udacity",
    "dates": 2016,
    "url": "https://www.udacity.com/course/responsive-web-design-fundamentals--ud893"
  }, {
    "title": "Web-development",
    "school": "Udacity",
    "dates": 2015,
    "url": "https://www.udacity.com/course/web-development--cs253"
  }, {
    "title": "Programming Languages",
    "school": "Udacity",
    "dates": 2015,
    "url": "https://www.udacity.com/course/programming-languages--cs262"
  }, {
    "title": "Intro to Computer Science",
    "school": "Udacity",
    "dates": 2015,
    "url": "https://www.udacity.com/course/intro-to-computer-science--cs101"
  }, {
    "title": "HTML, CSS and Javascript",
    "school": "Coursera - The Hong Kong University of Science and Technology",
    "dates": 2015,
    "url": "https://www.coursera.org/learn/html-css-javascript"
  }, {
    "title": "Computer Science (multiple courses): Algorithms, Cryptography, Information Theory ",
    "school": "Khan Academy",
    "dates": 2015,
    "url": "https://www.khanacademy.org/computing/computer-science"
  }, {
    "title": "Programming (multiple courses): HTML, CSS, Javascript and jQuery; Intro to SQL; JS: Games and Visualizations; JS: Natural Simulations ",
    "school": "Khan Academy",
    "dates": 2014,
    "url": "https://www.khanacademy.org/computing/computer-programming"
  }]
};

var languages = {
  languages: [{
    "name": "Portuguese",
    "level": "Native"
  }, {
    "name": "English",
    "level": "Proficient (C2)"
  }, {
    "name": "Spanish",
    "level": "Independent User (B1)"
  }],
  certificates: [{
    name: "Certificate of Proficiency in English, University of Cambridge",
    url: "http://www.cambridgeenglish.org/exams/proficiency/"
  }]
};


bio.display = function() {

  var formattedName = HTMLheaderName.replace("%data%", bio.name);
  var formattedRole = HTMLheaderRole.replace("%data%", bio.role);
  var formattedLinkedin = HTMLlinkedin.replace("%link%", bio.contacts.linkedin.link).replace("%name%", bio.contacts.linkedin.name);
  var formattedEmail = HTMLemail.replace("%data%", bio.contacts.email);
  var formattedGithub = HTMLgithub.replace("%link%", bio.contacts.github.link).replace("%name%", bio.contacts.github.name);
  var formattedPortfolio = HTMLportfolio.replace("%link%", bio.contacts.portfolio.link).replace("%name%", bio.contacts.portfolio.name);
  var formattedMedium = HTMLmedium.replace("%link%", bio.contacts.medium.link).replace("%name%", bio.contacts.medium.name);
  var formattedLocation = HTMLlocation.replace("%data%", bio.contacts.location);
  var formattedMobile = HTMLmobile.replace("%data%", bio.contacts.contact);
  var formattedPicture = HTMLbioPic.replace("%data%", bio.pictureURL);
  var formattedWelcome_message = HTMLwelcomeMsg.replace("%data%", bio.welcomeMessage);



  $("#header").prepend(formattedRole);
  $("#header").prepend(formattedName);
  
  $("#header").prepend(formattedPicture);

  $("#topContacts").append(formattedMobile);
  $("#topContacts").append(formattedEmail);
  $("#topContacts").append(formattedLocation);

  $("#topContacts").append(formattedLinkedin);
  $("#topContacts").append(formattedGithub);
  $("#topContacts").append(formattedPortfolio);
    
  $("#topContacts").append(formattedMedium);
  


  $("#header").append(formattedWelcome_message);


  /*  $("#header").append(HTMLskillsStart);
    for (key in bio.skills) {
      var formattedSkills = HTMLskills.replace("%data%", bio.skills[key]);
      $("#skills").append(formattedSkills);
    }*/

  // Code to simply add the basic contact info in the footer
  $("#footerContacts").append(formattedLinkedin);
  $("#footerContacts").append(formattedEmail);
  $("#footerContacts").append(formattedGithub);
  $("#footerContacts").append(formattedLocation);
  $("#footerContacts").append(formattedMobile);
  
    $("#footerContacts").append(formattedMedium);
  
  $("#footerContacts").append(formattedPortfolio);

};

work.display = function() {
  for (job in work.jobs) {

    $("#workExperience").append(HTMLworkStart);
    var formattedEmployer = HTMLworkEmployer.replace("%data%", work.jobs[job].employer).replace("#", work.jobs[job].url);
    var formattedTitle = HTMLworkTitle.replace("%data%", work.jobs[job].title);
    var formattedDates = HTMLworkDates.replace("%data%", work.jobs[job].dates);
    var formattedLocation = HTMLworkLocation.replace("%data%", work.jobs[job].location);
    var formattedDescription = HTMLworkDescription.replace("%data%", work.jobs[job].description);

    $(".work-entry:last").append(formattedEmployer + formattedTitle);
    $(".work-entry:last").append(formattedDates);
    $(".work-entry:last").append(formattedLocation);
    $(".work-entry:last").append(formattedDescription);



    if (work.jobs[job].tasks) {
      $(".work-entry:last").append("<ul class='bullet-points'></ul>");
      for (task in work.jobs[job].tasks) {
        var formattedTask = HTMLworkTask.replace("%data%", work.jobs[job].tasks[task]);
        $(".work-entry:last ul").append(formattedTask);
      }


    }
  }
}


education.display = function() {
  for (school in education.schools) {

    $("#education").append(HTMLschoolStart);
    var formattedName = HTMLschoolName.replace("%data%", education.schools[school].name).replace("#", education.schools[school].url);
    var formattedDegree = HTMLschoolDegree.replace("%data%", education.schools[school].degree);
    var formattedDates = HTMLschoolDates.replace("%data%", education.schools[school].dates);
    var formattedLocation = HTMLschoolLocation.replace("%data%", education.schools[school].location);

    $(".education-entry:last").append(formattedName + formattedDegree);
    $(".education-entry:last").append(formattedDates);
    $(".education-entry:last").append(formattedLocation);
    if (education.schools[school].majors.length > 0) {
      for (major in education.schools[school].majors) {
        var formattedMajor = HTMLschoolMajor.replace("%data%", education.schools[school].majors[major]);
        $(".education-entry:last").append(formattedMajor);
      }

    }
  }

  if (education.onlineCourses.length > 0) {
    $("#education").append(HTMLonlineClasses);
    $("#education").append(HTMLschoolStart);

  }

  for (course in education.onlineCourses) {

    var formattedTitle = HTMLonlineTitle.replace("%data%", education.onlineCourses[course].title).replace("#", education.onlineCourses[course].url);
    var formattedSchool = HTMLonlineSchool.replace("%data%", education.onlineCourses[course].school);
    var formattedDates = HTMLonlineDates.replace("%data%", education.onlineCourses[course].dates);
    var formattedURL = HTMLonlineURL.replace("%data%", education.onlineCourses[course].url);
    $(".education-entry:last").append(formattedTitle + formattedSchool);
    $(".education-entry:last").append(formattedDates);
    //$(".education-entry:last").append(formattedURL);


  }

}

projects.display = function() {
  for (project in projects.projects) {

    $("#projects").append(HTMLprojectStart);
    var formattedTitle = HTMLprojectTitle.replace("%data%", projects.projects[project].title).replace("#", projects.projects[project].url);
    $(".project-entry:last").append(formattedTitle);
    var formattedDates = HTMLprojectDates.replace("%data%", projects.projects[project].dates);
    $(".project-entry:last").append(formattedDates);

    if (projects.projects[project].description) {
      $(".project-entry:last").append("<br><ul class='bullet-points'></ul>");
      for (item in projects.projects[project].description) {
        var formattedDescription = HTMLprojectDescription.replace("%data%", projects.projects[project].description[item]);
        $(".project-entry:last ul").append(formattedDescription);
      }
    }
    if (projects.projects[project].images.length > 0) {
      for (image in projects.projects[project].images) {
        var formattedImage = HTMLprojectImage.replace("%data%", projects.projects[project].images[image]);
        $(".project-entry:last").append(formattedImage);
      }
    }

  }
}
languages.display = function() {
  for (language in languages.languages) {
    var formattedLanguageName = HTMLlanguageName.replace("%data%", languages.languages[language].name);
    var formattedLanguageLevel = HTMLlanguageLevel.replace("%data%", languages.languages[language].level);
    $("#languages").append(formattedLanguageName + formattedLanguageLevel)
  }

  if (languages.certificates) {
    $("#languages").append(HTMLcertificateHeader);
    for (certificate in languages.certificates) {
      var formattedCertificateURL = HTMLcertificateURL.replace("%data%", languages.certificates[certificate].url);
      var formattedCertificateName = HTMLcertificateName.replace("%data%", languages.certificates[certificate].name);


      $("#languages").append(formattedCertificateURL + formattedCertificateName);
    }
  }
}


bio.display();
work.display();
education.display();
projects.display();
languages.display();

// Code to add the "Where I worked" map
$("#mapDiv").append(googleMap);

// Part of one of the quizzes, this code logs the position of each mouse click

// $(document).click(function(loc) {
//   logClicks(loc.pageX, loc.pageY);
// });



// Part of one of the quizzes, this code adds a button that changes de capitalization
// of the name of the CV holder
/* $("#main").append(internationalizeButton);

function inName() {
    var name = bio.name.trim().split(" ");
    name[1] = name[1].toUpperCase();
    name[0] = name[0].slice(0,1).toUpperCase() + name[0].slice(1).toLowerCase();
    return name[0] + " " + name[1];
}
*/


if (document.getElementsByClassName('flex-item').length === 0) {
  document.getElementById('topContacts').style.backgroundColor = 'black';
}
if (document.getElementsByTagName('h1').length === 0) {
  document.getElementById('header').style.backgroundColor = 'black';
}
if (document.getElementsByClassName('work-entry').length === 0) {
  document.getElementById('workExperience').backgroundColor = 'black';
}
if (document.getElementsByClassName('project-entry').length === 0) {
  document.getElementById('projects').style.backgroundColor = 'black';
}
if (document.getElementsByClassName('education-entry').length === 0) {
  document.getElementById('education').style.backgroundColor = 'black';
}
if (document.getElementsByClassName('flex-item').length === 0) {
  document.getElementById('lets-connect').style.backgroundColor = 'black';
}
if (document.getElementById('map') === null) {
  document.getElementById('mapDiv').style.backgroundColor = 'black';
}
